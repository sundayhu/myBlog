<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTML 基础 | 个人学习笔记</title>
    <meta name="description" content="纸上得来终觉浅，绝知此事要躬行">
    <link rel="icon" href="/myBlog/favicon.ico">
    
    <link rel="preload" href="/myBlog/assets/css/0.styles.114bd649.css" as="style"><link rel="preload" href="/myBlog/assets/js/app.8d9073dd.js" as="script"><link rel="preload" href="/myBlog/assets/js/2.da0658cd.js" as="script"><link rel="preload" href="/myBlog/assets/js/8.b27143ae.js" as="script"><link rel="prefetch" href="/myBlog/assets/js/3.b111344a.js"><link rel="prefetch" href="/myBlog/assets/js/4.b8a3ef5f.js"><link rel="prefetch" href="/myBlog/assets/js/5.5e9eea53.js"><link rel="prefetch" href="/myBlog/assets/js/6.af34c25c.js"><link rel="prefetch" href="/myBlog/assets/js/7.fdc546c8.js"><link rel="prefetch" href="/myBlog/assets/js/9.92dffb0c.js">
    <link rel="stylesheet" href="/myBlog/assets/css/0.styles.114bd649.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myBlog/" class="home-link router-link-active"><!----> <span class="site-name">个人学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myBlog/base/" class="nav-link router-link-active">前端基础</a></div><div class="nav-item"><a href="/myBlog/advance/" class="nav-link">前端进阶</a></div><div class="nav-item"><a href="/myBlog/codeblock/" class="nav-link">一些代码块</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/sundayhu/myBlog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/myBlog/base/" class="nav-link router-link-active">前端基础</a></div><div class="nav-item"><a href="/myBlog/advance/" class="nav-link">前端进阶</a></div><div class="nav-item"><a href="/myBlog/codeblock/" class="nav-link">一些代码块</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/sundayhu/myBlog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myBlog/base/htmlBasic.html" class="active sidebar-link">HTML 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/base/htmlBasic.html#html" class="sidebar-link">HTML</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/base/htmlBasic.html#html-语义化" class="sidebar-link">HTML 语义化</a></li><li class="sidebar-sub-header"><a href="/myBlog/base/htmlBasic.html#html、xhtml、xml-的区别" class="sidebar-link">html、xhtml、xml 的区别</a></li><li class="sidebar-sub-header"><a href="/myBlog/base/htmlBasic.html#常用-meta-标签" class="sidebar-link">常用 meta 标签</a></li></ul></li><li class="sidebar-sub-header"><a href="/myBlog/base/htmlBasic.html#html5" class="sidebar-link">HTML5</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/base/htmlBasic.html#cookie-和-stroage" class="sidebar-link">cookie 和 stroage</a></li><li class="sidebar-sub-header"><a href="/myBlog/base/htmlBasic.html#websocket-协议" class="sidebar-link">websocket 协议</a></li><li class="sidebar-sub-header"><a href="/myBlog/base/htmlBasic.html#html5-原生拖拽" class="sidebar-link">HTML5 原生拖拽</a></li><li class="sidebar-sub-header"><a href="/myBlog/base/htmlBasic.html#自定义属性-data" class="sidebar-link">自定义属性 data-*</a></li><li class="sidebar-sub-header"><a href="/myBlog/base/htmlBasic.html#link-标签和异步加载-js" class="sidebar-link">link 标签和异步加载 js</a></li><li class="sidebar-sub-header"><a href="/myBlog/base/htmlBasic.html#script-标签的-async-和-defer-属性" class="sidebar-link">script 标签的 async 和 defer 属性</a></li></ul></li></ul></li><li><a href="/myBlog/base/cssBasic.html" class="sidebar-link">CSS 基础</a></li><li><a href="/myBlog/base/jsBasic.html" class="sidebar-link">JavaScript</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="html-基础"><a href="#html-基础" aria-hidden="true" class="header-anchor">#</a> HTML 基础</h1> <p></p><div class="table-of-contents"><ul><li><a href="#html">HTML</a><ul><li><a href="#html-语义化">HTML 语义化</a></li><li><a href="#html、xhtml、xml-的区别">html、xhtml、xml 的区别</a></li><li><a href="#常用-meta-标签">常用 meta 标签</a></li></ul></li><li><a href="#html5">HTML5</a><ul><li><a href="#cookie-和-stroage">cookie 和 stroage</a></li><li><a href="#websocket-协议">websocket 协议</a></li><li><a href="#html5-原生拖拽">HTML5 原生拖拽</a></li><li><a href="#自定义属性-data">自定义属性 data-*</a></li><li><a href="#link-标签和异步加载-js">link 标签和异步加载 js</a></li><li><a href="#script-标签的-async-和-defer-属性">script 标签的 async 和 defer 属性</a></li></ul></li></ul></div><p></p> <h2 id="html"><a href="#html" aria-hidden="true" class="header-anchor">#</a> HTML</h2> <h3 id="html-语义化"><a href="#html-语义化" aria-hidden="true" class="header-anchor">#</a> HTML 语义化</h3> <p><code>HTML</code> 文本语义化，就是让 <code>HTML</code> 元素能够表明其内部内容的意义，根据内容的结构化（内容语义化），选择合适的标签（代码语义化），便于开发者阅读和写出更优雅的代码的同时，让浏览器的爬虫和机器很好的解析。有些人写代码就是 <code>div</code> 一把梭，能用但是极不友好。</p> <p>语义化的好处：</p> <ul><li>有利于 <code>SEO</code>，有助于爬虫抓取更多的有效信息，爬虫是依赖于标签来确定上下文和各个关键字的权重。</li> <li>语义化的 <code>HTML</code> 在没有 <code>CSS</code> 的情况下也能呈现较好的内容结构与代码结构</li> <li>方便其他设备的解析（如屏幕阅读器、盲人阅读器、移动设备）</li> <li>便于团队开发和维护</li></ul> <p><code>HTML5</code> 提供了新的语义元素来明确一个 Web 页面的不同部分: <code>&lt;header&gt;</code>、<code>&lt;nav&gt;</code>、<code>&lt;section&gt;</code>、<code>&lt;article&gt;</code>、<code>&lt;aside&gt;</code>、<code>&lt;figcaption&gt;</code>、<code>&lt;figure&gt;</code>、<code>&lt;footer&gt;</code>。</p> <h3 id="html、xhtml、xml-的区别"><a href="#html、xhtml、xml-的区别" aria-hidden="true" class="header-anchor">#</a> html、xhtml、xml 的区别</h3> <ul><li>HTML(超文本标记语言): 在 html4.0 之前 HTML 先有实现再有标准，导致 HTML 非常混乱和松散</li> <li>XML(可扩展标记语言): 主要用于存储数据和结构，可自定义标签。和 JSON 是相似的作用，但是 JSON 更加轻量高效，所以 XML 现在市场越来越小了。</li> <li>XHTML(可扩展超文本标记语言): XHTML 就是以 XML 的语法形式来写 HTML，所以你也可以把 XHTML 理解为 HTML 的严格语法形式，除此之外，其它方面基本一样。</li></ul> <h3 id="常用-meta-标签"><a href="#常用-meta-标签" aria-hidden="true" class="header-anchor">#</a> 常用 meta 标签</h3> <p><code>meta</code> 标签由 <code>name</code> 和 <code>content</code> 两个属性来定义，来描述一个 <code>HTML</code> 网页文档的元信息，例如作者、日期和时间、网页描述、关键词、页面刷新等，除了一些 <code>http</code> 标准规定了一些 <code>name</code> 作为大家使用的共识，开发者也可以自定义 <code>name</code>。</p> <p>除了 <code>charset</code>，<code>author</code>，<code>description</code> 和 <code>keywords</code> 这些常用的 <code>meta</code> 标签外，还有一些很有用的 <code>meta</code>标签</p> <ul><li><code>viewport</code>，移动端开发必须写的，可以控制视口的大小和比例:</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1, maximum-scale=1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>http-equiv</code>，相当于 http 的文件头作用,可以设置 http 的缓存过期日期:</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>expires<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Wed, 21 Jun 2019 22:33:00 GMT<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>refresh</code>，用于定时刷新页面:</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>refresh<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>apple-mobile-web-app-status-bar-style</code>，为了自定义苹果工具栏的颜色。:</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>apple-mobile-web-app-status-bar-style<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>black-translucent<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>通过 meta 代码强制浏览器使用 WebKit 内核</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 强制Chromium内核，作用于360浏览器、QQ浏览器等国产双核浏览器： --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>renderer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>webkit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!-- 强制Chromium内核，作用于其他双核浏览器： --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>force-rendering<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>webkit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!-- 避免IE使用兼容模式 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>IE=Edge,chrome=1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>去除 IOS <code>Safari</code> 对数字号码和邮箱的自动识别：</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>format-detection<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>telephone=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>format-detection<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>telephone=no,email=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="html5"><a href="#html5" aria-hidden="true" class="header-anchor">#</a> HTML5</h2> <h3 id="cookie-和-stroage"><a href="#cookie-和-stroage" aria-hidden="true" class="header-anchor">#</a> cookie 和 stroage</h3> <p><code>stroage</code> 分为 <code>localstroage</code> 和 <code>sessionStroage</code>，是 <code>HTML5</code> 新增的数据存储 API，除非数据需要跨域（主域相同）共享，不然建议用 <code>stroage</code> 存储。如果需要存储超大量的数据，可以用 <code>IndexedDB</code>，<code>IndexedDB</code> 是一个事务型的数据库系统。</p> <h4 id="cookie-和-stroage-的区别"><a href="#cookie-和-stroage-的区别" aria-hidden="true" class="header-anchor">#</a> cookie 和 stroage 的区别</h4> <p>cookie 的优点：</p> <ol><li>主域名相同可以跨域共享，cookie 可以设置存储的域名和路径</li> <li>可以设置过期时间</li> <li>可以由服务端写入，并且能设置只读，安全性好一点，<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Set-Cookie" target="_blank" rel="noopener noreferrer">了解更多<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</li></ol> <p>cookie 的缺点：</p> <ol><li>HTTP 请求会带上 cookie，如果使用 cookie 保存过多数据会带来性能问题</li> <li>可存储的数据体积很小，4k 左右，存储数量也有限制</li> <li>易用性很差，需要自己封装存取函数</li></ol> <p><code>localstroage</code> 和 <code>sessionStroage</code> 相对于 <code>cookie</code> 的优点：</p> <ol><li>可存储的数据体积很大，5M 左右</li> <li>易用性很好，提供很好地 API</li></ol> <p><code>localstroage</code> 和 <code>sessionStroage</code> 相对于 <code>cookie</code> 的缺点：</p> <ol><li>不可跨域共享</li> <li>无法设置过期时间（可以自己封装一个）</li></ol> <p><code>localstroage</code> 和 <code>sessionStroage</code> 的区别：</p> <p><code>localstroage</code> 是长期存储的，除非主动删除，<code>sessionStroage</code> 当前窗口关闭或者浏览器关闭就会被删除，另外，<code>sessionStroage</code> 不同窗口之间不共享（即使同源）。</p> <h4 id="封装的-cookie-函数"><a href="#封装的-cookie-函数" aria-hidden="true" class="header-anchor">#</a> 封装的 cookie 函数</h4> <ul><li>存储值得时候需要用<code>decodeURIComponent</code>函数编码，保证它不包含任何逗号、分号或空格(<code>cookie</code> 值中禁止使用这些值)。解码用的是<code>decodeURIComponent</code>。</li> <li><code>max-age</code>表示有效期，存储的是秒；<code>expire</code>表示过期时间，存储的是 UTC 格式: <code>Date.toUTCString()</code> 。IE 低版本不支持不支持 <code>max-age</code>。如果同时设置了 <code>expires</code> 和 <code>max-age</code> ，所有支持 <code>max-age</code> 的浏览器会忽略 <code>expires</code> 的值。</li> <li><code>max-age</code>为负数时，表示的是临时储存，不会生出 <code>cookie</code> 文件，只会存在浏览器内存中，且只会在打开的浏览器窗口或者子窗口有效，一旦浏览器关闭，<code>cookie</code> 就会消失。当<code>max-age</code>为 0 时，浏览器就会删除 <code>cookie</code>。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//读取cookie</span>
<span class="token keyword">function</span> <span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> itemArr <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'; '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>itemArr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> item <span class="token operator">=</span> itemArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> name <span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//存储的时候用了编码函数，返回值需要解码</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//设置cookie，key和value是必须的，expires，domain，path, secure (cookie只通过https协议传输)是可选的，放入到一个对象中;</span>
<span class="token keyword">function</span> <span class="token function">setCookie</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">,</span><span class="token punctuation">{</span> expires<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> path<span class="token operator">=</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> domain<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>secure<span class="token operator">=</span><span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> expires<span class="token operator">*</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">; expires=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>time<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">; path=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">; domain=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>domain<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">; secure=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>secure<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 删除Cookie:直接设置过期时间为-1就行</span>
<span class="token keyword">function</span> <span class="token function">removeCookie</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setCookie</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token punctuation">{</span>expires<span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>path<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="localstroage-实现过期时间"><a href="#localstroage-实现过期时间" aria-hidden="true" class="header-anchor">#</a> localstroage 实现过期时间</h4> <p>由于 <code>localstroage</code> 只能是 <code>key-value</code> 的键值对，没有其他的字段可以存储过期时间，而过期时间存在 <code>key</code> 里面不太好读取，所以实现思路就是给每个 <code>value</code> 后面加上过期时间，读取的时候先判断是否过期。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getStroage</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>result<span class="token punctuation">,</span>time<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;||&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//存储的时候用||分隔的</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>time <span class="token operator">&amp;&amp;</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> time<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//有过期时间并且过期了</span>
        localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//date根据需要传过期时间，本例中是以天为单位</span>
<span class="token keyword">function</span> <span class="token function">setStroage</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span>value<span class="token punctuation">,</span>date</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//存储过期的时间戳</span>
        <span class="token keyword">const</span> time <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> date<span class="token operator">*</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">,</span>
        value <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">||time</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="localstroage-实现两个同源标签页的通信"><a href="#localstroage-实现两个同源标签页的通信" aria-hidden="true" class="header-anchor">#</a> localstroage 实现两个同源标签页的通信</h4> <p>使用 <code>cookie</code> 进行通信需要设置定时器，不停的读取 <code>cookie</code>，而 <code>localstroage</code> 的修改原生事件支持监听</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'storage'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>key <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>newValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//使用storage事件监听添加、修改、删除的动作</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="websocket-协议"><a href="#websocket-协议" aria-hidden="true" class="header-anchor">#</a> websocket 协议</h3> <p>HTTP 协议有一个缺陷：通信只能由客户端发起。这种单向请求的特点，注定了如果服务器有连续的状态变化，客户端要获知就非常麻烦。我们只能使用&quot;轮询&quot;。</p> <p><code>WebSocket</code> 是 <code>HTML5</code> 开始提供的一种在单个 TCP 连接上进行全双工通讯的协议，允许服务端主动向客户端推送数据。类似于 Ajax，只不过连接了 <code>WebSocket</code> 之后，服务器就可以一直给客户端发数据，客户端也可以给服务器发数据。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 打开一个 web socket(只能使用ws或wss协议，类似于http与https)</span>
<span class="token keyword">var</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span>&quot;ws<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">192.168</span><span class="token number">.23</span><span class="token number">.110</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// Web Socket 已连接上，使用 send() 方法发送数据</span>
    ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;发送数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;数据发送中...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> received_msg <span class="token operator">=</span> evt<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;数据已接收...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function-variable function">error</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// websocket连接出错时触发</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;连接出错！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
ws<span class="token punctuation">.</span><span class="token function-variable function">onclose</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 关闭 websocket时触发的事件</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;连接已关闭...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><code>readyState</code> 是 <code>WebSocket</code> 对象的只读属性 表示连接状态，可以是以下值：</p> <ul><li>0 - 表示连接尚未建立。</li> <li>1 - 表示连接已建立，可以进行通信。</li> <li>2 - 表示连接正在进行关闭。</li> <li>3 - 表示连接已经关闭或者连接不能打开。</li></ul> <p>我们用 <code>vue-cli</code> 脚手架进行开发的时候，之所以保存文件之后不用手动刷新页面可以直接在浏览器看到效果，原因就在于我们页面运行于 <code>node</code> 服务器上，文件修改保存之后，通过 <code>WebSocket</code> 协议将修改的代码传给了浏览器，实现了实时刷新效果。扫码登陆也是利用 <code>WebSocket</code> 实现的。</p> <h3 id="html5-原生拖拽"><a href="#html5-原生拖拽" aria-hidden="true" class="header-anchor">#</a> HTML5 原生拖拽</h3> <p>HTML5 支持拖拽（不是拖拽布局），用处：表格项拖拽换位置，表单文件拖拽上传等。基础用法：</p> <ul><li>设置元素为可拖放：<code>&lt;img draggable=&quot;true&quot;&gt;</code>，可简写为<code>&lt;img draggable&gt;</code></li> <li>常用三个事件：<code>ondragstart</code>（拖动什么）、<code>ondragover</code>（放到何处）、<code>ondrop</code>（进行放置）。</li> <li>拖拽的事件对象：每个 <code>drag event</code> 都有一个 <code>dataTransfer</code> 属性保保存事件的数据。这个属性（ <code>DataTransfer</code> 对象）也有管理拖动数据的方法。<code>setData()</code> 方法添加一个项目的拖拽数据，</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">dragstart</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 添加拖拽数据</span>
	ev<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">'text/plain'</span><span class="token punctuation">,</span> ev<span class="token punctuation">.</span>target<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span><span class="token punctuation">;</span>
	ev<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">'text/html'</span><span class="token punctuation">,</span> ev<span class="token punctuation">.</span>target<span class="token punctuation">.</span>outerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
	ev<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">'text/uri-list'</span><span class="token punctuation">,</span> ev<span class="token punctuation">.</span>target<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//在放置的时候通过getData()拿到数据。</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="自定义属性-data"><a href="#自定义属性-data" aria-hidden="true" class="header-anchor">#</a> 自定义属性 data-*</h3> <p><code>HTML5</code> 新增的<code>data-*</code> 属性用于存储私有页面后应用的自定义数据，可以在所有的 <code>HTML</code> 元素中嵌入数据，然后通过 <code>DOM</code> 元素的 <code>dataset</code> 属性可以访问到他们。</p> <p>html 标签中<code>data-*</code>属性使用的是小写单词，<code>-</code>号分隔，js 存取都是驼峰单词。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1234567890<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-user</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>johndoe<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-date-of-birth</span><span class="token punctuation">&gt;</span></span>John Doe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">var</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// el.dataset.id === '1234567890'</span>
	<span class="token comment">// el.dataset.user === 'johndoe'</span>
	<span class="token comment">// el.dataset.dateOfBirth === ''</span>
	el<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>dateOfBirth <span class="token operator">=</span> <span class="token string">'1960-10-03'</span><span class="token punctuation">;</span> <span class="token comment">//设置自定义属性</span>
	el<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>someDataAttr <span class="token operator">=</span> <span class="token string">'mydata'</span><span class="token punctuation">;</span>
	<span class="token comment">// 'someDataAttr' in el.dataset === true</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>vue 开发中 <code>style</code> 标签的 <code>scoped</code> 属性可以实现局部样式（组件内有效），避免了全局 <code>css</code> 污染，其实现原理就是给组件所有标签加上自定义属性<code>data-v-版本hash值</code>，然后配合 <code>css</code> 的属性选择器来实现的。</p> <h3 id="link-标签和异步加载-js"><a href="#link-标签和异步加载-js" aria-hidden="true" class="header-anchor">#</a> link 标签和异步加载 js</h3> <p><code>link</code> 一般用于引入外部 <code>css</code>，也可以引入网站的图标：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>favicon.ico<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>无意中打开了<code>vue-cli3</code>打包之后的 index.html 文件，发现了 <code>link</code> 标签居然能引入 js，而且还可以实现预加载。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>script<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>js/app.69189fdd.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>preload<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>script<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>js/0.69189fdd.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>prefetch<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>preload</code>表示预加载，可以让浏览器提前加载指定资源（预加完成后载并不执行），这样将加载和执行分开，可以不阻塞渲染和 <code>window.onload</code> 事件。<code>app.js</code>和<code>chunk-vendors.js</code>需要预加载。</p> <p><code>prefetch</code>表示预请求，优先级会低一些，浏览器在空闲的时候才会去请求这些资源（也不执行）。<code>vue-router</code>按需引入之后，每一个路由文件都被单独打包成一个 js，这些文件会被预请求，这样我们在切换路由的时候，页面渲染的更快。</p> <h3 id="script-标签的-async-和-defer-属性"><a href="#script-标签的-async-和-defer-属性" aria-hidden="true" class="header-anchor">#</a> script 标签的 async 和 defer 属性</h3> <ol><li>没有 <code>defer</code> 或 <code>async</code>，浏览器会立即加载并执行指定的脚本，后续的 dom 加载需要等待这个脚本执行完毕。</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>script.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li><code>async</code>，加载和渲染后续文档元素的过程将和 <code>script.js</code> 的加载与执行并行进行（异步）。</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">async</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>script.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li><code>defer</code>，加载后续文档元素的过程将和 <code>script.js</code> 的加载并行进行（异步），但是 <code>script.js</code> 的执行要在所有元素解析完成之后，<code>DOMContentLoaded</code> 事件触发之前完成。</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">defer</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>myscript.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/myBlog/base/cssBasic.html">CSS 基础</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/myBlog/assets/js/app.8d9073dd.js" defer></script><script src="/myBlog/assets/js/2.da0658cd.js" defer></script><script src="/myBlog/assets/js/8.b27143ae.js" defer></script>
  </body>
</html>
